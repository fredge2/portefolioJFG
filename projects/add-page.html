<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter une nouvelle page - Portfolio Web</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .page-editor {
            margin-top: var(--spacing-md);
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-md);
            box-shadow: var(--box-shadow);
        }
        
        .editor-toolbar {
            display: flex;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-sm);
            flex-wrap: wrap;
        }
        
        .editor-button {
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--border-radius-sm);
            font-size: 0.9rem;
            background: #f0f0f0;
            border: none;
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .editor-button:hover {
            background: #e0e0e0;
        }
        
        .editor-content {
            min-height: 400px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius-sm);
            padding: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }
        
        .page-preview {
            margin-top: var(--spacing-lg);
        }
        
        .page-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }
        
        .page-preview-content {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-md);
            box-shadow: var(--box-shadow);
            min-height: 300px;
        }
        
        .pages-list {
            margin-top: var(--spacing-lg);
        }
        
        .page-item {
            background: white;
            border-radius: var(--border-radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition-fast);
        }
        
        .page-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }
        
        .page-info {
            flex: 1;
        }
        
        .page-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .page-date {
            font-size: 0.9rem;
            color: #666;
        }
        
        .page-actions {
            display: flex;
            gap: var(--spacing-xs);
        }
        
        .page-button {
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--border-radius-sm);
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .page-button.edit {
            background: var(--gradient-primary);
            color: white;
        }
        
        .page-button.view {
            background: var(--gradient-secondary);
            color: white;
        }
        
        .page-button.delete {
            background: #ff4757;
            color: white;
        }
        
        .page-button:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container nav-container">
            <a href="../index.html" class="logo">Portfolio</a>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="../index.html" class="nav-link">Accueil</a></li>
                    <li class="nav-item"><a href="../index.html#projects" class="nav-link">Projets</a></li>
                    <li class="nav-item"><a href="../index.html#cv" class="nav-link">CV</a></li>
                    <li class="nav-item"><a href="../index.html#future-projects" class="nav-link">Projets à venir</a></li>
                    <li class="nav-item"><a href="../index.html#contact" class="nav-link">Contact</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <section class="section">
            <div class="container">
                <div class="section-title">
                    <h1>Ajouter une nouvelle page</h1>
                    <p>Créez et gérez facilement de nouvelles pages pour votre portfolio</p>
                </div>
                
                <div class="page-editor">
                    <h3 class="text-gradient-primary mb-2">Créer une nouvelle page</h3>
                    <form id="new-page-form">
                        <div class="form-group">
                            <label for="page-title" class="form-label">Titre de la page</label>
                            <input type="text" id="page-title" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="page-slug" class="form-label">Slug (URL de la page)</label>
                            <input type="text" id="page-slug" class="form-control" placeholder="ex: ma-nouvelle-page" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Contenu de la page</label>
                            <div class="editor-toolbar">
                                <button type="button" class="editor-button" data-command="bold"><i class="fas fa-bold"></i></button>
                                <button type="button" class="editor-button" data-command="italic"><i class="fas fa-italic"></i></button>
                                <button type="button" class="editor-button" data-command="underline"><i class="fas fa-underline"></i></button>
                                <button type="button" class="editor-button" data-command="insertOrderedList"><i class="fas fa-list-ol"></i></button>
                                <button type="button" class="editor-button" data-command="insertUnorderedList"><i class="fas fa-list-ul"></i></button>
                                <button type="button" class="editor-button" data-command="createLink"><i class="fas fa-link"></i></button>
                                <button type="button" class="editor-button" data-command="insertImage"><i class="fas fa-image"></i></button>
                                <button type="button" class="editor-button" data-command="formatBlock" data-value="h1">H1</button>
                                <button type="button" class="editor-button" data-command="formatBlock" data-value="h2">H2</button>
                                <button type="button" class="editor-button" data-command="formatBlock" data-value="h3">H3</button>
                                <button type="button" class="editor-button" data-command="formatBlock" data-value="p">P</button>
                            </div>
                            <div class="editor-content" id="page-content" contenteditable="true"></div>
                            <textarea id="page-content-hidden" name="page-content" style="display: none;"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="page-meta-description" class="form-label">Meta Description (pour SEO)</label>
                            <textarea id="page-meta-description" class="form-control" rows="2"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary mt-2">Créer la page</button>
                    </form>
                </div>
                
                <div class="page-preview">
                    <div class="page-preview-header">
                        <h3 class="text-gradient-primary">Aperçu de la page</h3>
                        <button id="refresh-preview" class="btn btn-secondary">Actualiser l'aperçu</button>
                    </div>
                    <div class="page-preview-content" id="page-preview">
                        <p class="text-center">L'aperçu de votre page s'affichera ici.</p>
                    </div>
                </div>
                
                <div class="pages-list">
                    <h3 class="text-gradient-primary mb-3">Pages existantes</h3>
                    
                    <div class="page-item">
                        <div class="page-info">
                            <h4 class="page-title">À propos de moi</h4>
                            <p class="page-date">Créée le 15 juin 2025</p>
                        </div>
                        <div class="page-actions">
                            <a href="#" class="page-button edit">
                                <i class="fas fa-edit"></i> Modifier
                            </a>
                            <a href="../pages/about.html" target="_blank" class="page-button view">
                                <i class="fas fa-eye"></i> Voir
                            </a>
                            <a href="#" class="page-button delete">
                                <i class="fas fa-trash"></i> Supprimer
                            </a>
                        </div>
                    </div>
                    
                    <div class="page-item">
                        <div class="page-info">
                            <h4 class="page-title">Mes services</h4>
                            <p class="page-date">Créée le 12 juin 2025</p>
                        </div>
                        <div class="page-actions">
                            <a href="#" class="page-button edit">
                                <i class="fas fa-edit"></i> Modifier
                            </a>
                            <a href="../pages/services.html" target="_blank" class="page-button view">
                                <i class="fas fa-eye"></i> Voir
                            </a>
                            <a href="#" class="page-button delete">
                                <i class="fas fa-trash"></i> Supprimer
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-logo">Portfolio</div>
            <ul class="footer-links">
                <li class="footer-link"><a href="../index.html">Accueil</a></li>
                <li class="footer-link"><a href="../index.html#projects">Projets</a></li>
                <li class="footer-link"><a href="../index.html#cv">CV</a></li>
                <li class="footer-link"><a href="../index.html#contact">Contact</a></li>
            </ul>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Portfolio Web. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="../js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Simple WYSIWYG editor functionality
            const editorButtons = document.querySelectorAll('.editor-button');
            const editorContent = document.getElementById('page-content');
            const pageContentHidden = document.getElementById('page-content-hidden');
            const pagePreview = document.getElementById('page-preview');
            const refreshPreviewBtn = document.getElementById('refresh-preview');
            const newPageForm = document.getElementById('new-page-form');
            const pageTitleInput = document.getElementById('page-title');
            const pageSlugInput = document.getElementById('page-slug');
            
            // Editor buttons functionality
            editorButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const command = this.dataset.command;
                    const value = this.dataset.value || null;
                    
                    if (command === 'createLink') {
                        const url = prompt('Entrez l\'URL du lien:');
                        if (url) document.execCommand(command, false, url);
                    } else if (command === 'insertImage') {
                        const url = prompt('Entrez l\'URL de l\'image:');
                        if (url) document.execCommand(command, false, url);
                    } else {
                        document.execCommand(command, false, value);
                    }
                    
                    editorContent.focus();
                });
            });
            
            // Auto-generate slug from title
            pageTitleInput.addEventListener('input', function() {
                const slug = this.value
                    .toLowerCase()
                    .replace(/[^\w\s-]/g, '')
                    .replace(/\s+/g, '-');
                pageSlugInput.value = slug;
            });
            
            // Update preview
            refreshPreviewBtn.addEventListener('click', function() {
                const title = pageTitleInput.value || 'Titre de la page';
                const content = editorContent.innerHTML;
                
                pagePreview.innerHTML = `
                    <h1 style="margin-bottom: 20px;">${title}</h1>
                    <div>${content}</div>
                `;
            });
            
            // Form submission
            newPageForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Update hidden textarea with editor content
                pageContentHidden.value = editorContent.innerHTML;
                
                const title = pageTitleInput.value;
                const slug = pageSlugInput.value;
                const content = pageContentHidden.value;
                const metaDescription = document.getElementById('page-meta-description').value;
                
                // In a real application, this would save the page to a database or file system
                // For demo purposes, we'll just show a success message and add to the list
                
                // Create new page item in the list
                const pagesList = document.querySelector('.pages-list');
                const newPageItem = document.createElement('div');
                newPageItem.className = 'page-item';
                
                const currentDate = new Date();
                const formattedDate = `${currentDate.getDate()} ${currentDate.toLocaleString('fr-FR', { month: 'long' })} ${currentDate.getFullYear()}`;
                
                newPageItem.innerHTML = `
                    <div class="page-info">
                        <h4 class="page-title">${title}</h4>
                        <p class="page-date">Créée le ${formattedDate}</p>
                    </div>
                    <div class="page-actions">
                        <a href="#" class="page-button edit">
                            <i class="fas fa-edit"></i> Modifier
                        </a>
                        <a href="#" class="page-button view">
                            <i class="fas fa-eye"></i> Voir
                        </a>
                        <a href="#" class="page-button delete">
                            <i class="fas fa-trash"></i> Supprimer
                        </a>
                    </div>
                `;
                
                pagesList.appendChild(newPageItem);
                
                // Show success message
                alert(`Page "${title}" créée avec succès!`);
                
                // Reset form
                newPageForm.reset();
                editorContent.innerHTML = '';
            });
            
            // Delete page functionality
            document.addEventListener('click', function(e) {
                if (e.target.closest('.page-button.delete')) {
                    e.preventDefault();
                    
                    const pageItem = e.target.closest('.page-item');
                    const pageTitle = pageItem.querySelector('.page-title').textContent;
                    
                    if (confirm(`Êtes-vous sûr de vouloir supprimer la page "${pageTitle}" ?`)) {
                        pageItem.remove();
                    }
                }
            });
        });
    </script>
</body>
</html>
